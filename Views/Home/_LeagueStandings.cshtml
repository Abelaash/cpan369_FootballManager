@model FootballManager.Models.HomeViewModel
@{
    var groupedLeagues = ViewBag.GroupedLeagues as IEnumerable<IGrouping<string, FootballManager.Models.Team>>;
}

@if (groupedLeagues != null)
{
    foreach (var leagueGroup in groupedLeagues)
    {
        <div class="my-5">
            <h2 class="text-center text-primary">@leagueGroup.Key</h2>

            <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th>Position</th>
                        <th>Team</th>
                        <th>Matches Played</th>
                        <th>Wins</th>
                        <th>Draws</th>
                        <th>Losses</th>
                        <th>Goals For</th>
                        <th>Goals Against</th>
                        <th>Points</th>
                    </tr>
                </thead>
                <tbody>
                    @{ int pos = 1; }
                    @foreach (var team in leagueGroup)
                    {
                        <tr>
                            <td>@pos</td>
                            <td>@team.Name</td>
                            <td>@team.matches_played</td>
                            <td>@team.Wins</td>
                            <td>@team.Draws</td>
                            <td>@team.Losses</td>
                            <td>@team.goals_for</td>
                            <td>@team.goals_against</td>
                            <td><strong>@team.Points</strong></td>
                        </tr>
                        pos++;
                    }
                </tbody>
            </table>
        </div>
    }
}
else
{
    <p class="text-danger">League data is not available.</p>
}
